/// <reference types="node" />
import * as Mocha from "mocha";
import { type AttachmentOptions, type ContentType } from "allure-js-commons";
import type { Category, RuntimeMessage } from "allure-js-commons/sdk";
import { ReporterRuntime } from "allure-js-commons/sdk/reporter";
import type { TestPlanIndices } from "./types.js";
export declare class AllureMochaReporter extends Mocha.reporters.Base {
    protected readonly runtime: ReporterRuntime;
    protected readonly testplan?: TestPlanIndices;
    protected readonly testsMap: Map<string, Mocha.Test>;
    protected scopesStack: string[];
    protected currentTest?: string;
    protected currentHook?: string;
    private readonly isInWorker;
    constructor(runner: Mocha.Runner, opts: Mocha.MochaOptions, isInWorker?: boolean);
    applyRuntimeMessages: (...message: RuntimeMessage[]) => void;
    /**
     * @deprecated for removal. Use reporter config option instead.
     */
    writeCategoriesDefinitions: (categories: Category[]) => void;
    /**
     * @deprecated for removal. Use reporter config option instead.
     */
    writeEnvironmentInfo: (environmentInfo: Record<string, string>) => void;
    /**
     * @deprecated for removal. Use reporter config option instead.
     */
    testAttachment: (name: string, content: Buffer | string, options: ContentType | string | AttachmentOptions) => void;
    done(failures: number, fn?: ((failures: number) => void) | undefined): void;
    private applyListeners;
    private onSuite;
    private onSuiteEnd;
    private onTest;
    private onPassed;
    private onFailed;
    private onPending;
    private onTestEnd;
    private onHookStart;
    private onHookEnd;
    private writeTestScopes;
    private getCurrentSuiteScope;
    protected getFrameworkName: () => string;
    protected getWorkerId: () => string | undefined;
}
